# AstrBot 网页分析插件 Wiki

AstrBot 网页分析插件是一个功能强大的插件，能够自动识别用户发送的网页链接，智能抓取解析内容，集成大语言模型进行深度分析和总结，支持网页截图、缓存机制和多种管理命令。

## 功能概览

- **自动识别URL**：自动检测消息中的网页链接，支持带协议头和无协议头的URL
- **智能内容提取**：使用BeautifulSoup提取网页主要内容
- **LLM智能分析**：集成AstrBot的LLM接口进行深度内容分析
- **网页截图**：自动捕获网页截图，直观展示网页外观
- **异步并发处理**：使用asyncio.gather并发处理多个URL，提高性能
- **高度可配置**：支持多种配置选项，满足不同需求
- **域名控制**：支持允许和禁止域名列表
- **多平台支持**：兼容各种消息平台
- **内容统计**：提供详细的内容统计信息
- **多链接处理**：支持同时处理多条链接
- **网页翻译**：支持将网页内容翻译成指定语言
- **结果缓存**：支持分析结果缓存，提高重复请求的响应速度
- **特定内容提取**：支持提取图片、链接、代码块、元信息等特定类型内容
- **缓存管理**：支持查看缓存状态和手动清理缓存
- **分析结果导出**：支持将分析结果导出为多种格式
- **代理支持**：支持HTTP代理配置
- **请求重试机制**：自动重试失败的请求
- **多种分析模板**：新增多种LLM分析模板
- **完善的错误处理**：实现错误分级和分类
- **截图裁剪**：支持自定义截图区域
- **内容哈希缓存**：基于内容哈希的缓存策略
- **缓存预加载**：支持缓存预加载
- **优先级调度**：基于URL优先级的任务调度
- **动态并发**：动态调整并发数
- **内存监控**：新增内存监控和自动释放机制
- **浏览器池**：优化浏览器资源管理
- **多种结果模板**：支持多种结果展示模板
- **结果折叠**：支持结果折叠功能
- **命令补全**：支持命令补全和参数提示功能
- **命令别名自定义**：支持自定义命令别名
- **LLM Tool模式**：允许LLM智能决定是否调用analyze_webpage工具
- **URL自动补全**：自动补全URL协议头
- **URL预处理**：支持URL预处理
- **URL规范化**：支持URL规范化
- **详细日志记录**：新增详细的日志记录
- **LLM自主决策**：允许LLM决定返回分析结果还是截图
- **LLM提示词优化**：为多种内容类型添加详细分析模板
- **内容类型检测**：智能检测网页内容类型
- **LRU缓存策略**：实现LRU缓存策略
- **定期清理机制**：浏览器实例和缓存定期清理

## 快速导航

- [快速开始](QuickStart.md) - 安装和基本使用指南
- [命令参考](Commands.md) - 详细的命令说明
- [配置指南](Configuration.md) - 所有配置项的详细说明
- [技术实现](TechnicalImplementation.md) - 技术细节和架构
- [常见问题](FAQ.md) - 常见问题和解决方案
- [开发指南](Development.md) - 开发相关的信息

## 更新日志

详见 [更新日志](../CHANGELOG.md) 文件。

## 许可证

本项目采用 [MIT License](../LICENSE) 开源协议。